<div x-data="{
    startDate: '',
    days: 15,
    result: '',
    calculate() {
        if (!this.startDate) return;
        let date = new Date(this.startDate);
        let count = 0;
        while (count < this.days) {
            date.setDate(date.getDate() + 1);
            // 0 = Sunday, 6 = Saturday
            if (date.getDay() !== 0 && date.getDay() !== 6) {
                count++;
            }
        }
        this.result = date.toLocaleDateString('pt-BR');
    }
}"
    style="background: white; border-radius: 12px; padding: 2rem; box-shadow: var(--shadow-medium); width: 100%; max-width: 500px; text-align: left;">
    <h3 style="font-family: var(--font-primary); font-size: 1.5rem; margin-bottom: 1.5rem; color: var(--color-black);">
        Calculadora de Prazos (Novo CPC)</h3>

    <div style="margin-bottom: 1.5rem;">
        <label
            style="display: block; font-size: 0.9rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--color-gray-dark);">Data
            de Publicação</label>
        <input x-model="startDate" type="date"
            style="width: 100%; padding: 0.75rem; border: 1px solid var(--color-gray-light); border-radius: 6px; font-family: inherit;">
    </div>

    <div style="margin-bottom: 1.5rem;">
        <label
            style="display: block; font-size: 0.9rem; font-weight: 600; margin-bottom: 0.5rem; color: var(--color-gray-dark);">Dias
            Úteis</label>
        <input x-model="days" type="number"
            style="width: 100%; padding: 0.75rem; border: 1px solid var(--color-gray-light); border-radius: 6px; font-family: inherit;">
    </div>

    <button @click="calculate()"
        style="width: 100%; background: var(--color-black); color: var(--color-salmon); padding: 1rem; border: none; border-radius: 6px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;"
        onmouseover="this.style.background='var(--color-salmon-dark)'; this.style.color='white'"
        onmouseout="this.style.background='var(--color-black)'; this.style.color='var(--color-salmon)'">
        Calcular Prazo Civil
    </button>

    <div x-show="result"
        style="margin-top: 1.5rem; padding: 1rem; background: var(--color-creme); border-radius: 6px; border-left: 4px solid var(--color-salmon);">
        <p style="margin: 0; font-weight: 600; color: var(--color-black);">Vencimento Previsto:</p>
        <p x-text="result"
            style="margin: 0.5rem 0 0 0; font-size: 2rem; color: var(--color-salmon-dark); font-weight: 700;"></p>
        <p style="margin: 0.5rem 0 0 0; font-size: 0.75rem; color: var(--color-gray); font-style: italic;">*Cálculo em
            dias úteis (não considera feriados locais).</p>
    </div>
</div>