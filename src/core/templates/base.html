{% load static %}
<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alessandra M. Donadon Advocacia | Estrat√©gia e Humanidade</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="{% static 'css/theme.css' %}">
    <link rel="icon" type="image/png" href="{% static 'favicon.png' %}">

    <!-- HTMX Core & CSRF Setup -->
    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="https://unpkg.com/htmx.org/dist/ext/json-enc.js"></script>
    <!-- Alpine.js -->
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script>
        document.addEventListener('htmx:configRequest', (event) => {
            event.detail.headers['X-CSRFToken'] = '{{ csrf_token }}';
        });

        // Service Worker Registration for Push Notifications
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/static/sw.js')
                .then(function (registration) {
                    console.log('Service Worker Registered');
                })
                .catch(function (error) {
                    console.log('Service Worker Registration Failed:', error);
                });
        }
    </script>
</head>

<body hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'>
    {% include "components/header.html" %}

    <main>
        {% block content %}{% endblock %}
    </main>

    {% include "components/footer.html" %}

    <a href="https://wa.me/5519988014465" class="whatsapp-float" target="_blank" aria-label="WhatsApp">
        <svg width="30" height="30" viewBox="0 0 24 24" fill="white">
            <path
                d="M12.031 2c-5.511 0-9.993 4.481-9.993 9.993 0 1.763.461 3.475 1.332 4.978L2 22l5.148-1.351c1.455.794 3.09 1.211 4.757 1.211 5.511 0 9.993-4.482 9.993-9.993 0-5.512-4.482-9.993-9.993-9.993zM12.031 20.125c-1.552 0-3.041-.399-4.343-1.156l-.31-.184-3.228.847.861-3.14-.202-.321c-.822-1.31-1.256-2.83-1.256-4.388 0-4.469 3.636-8.106 8.106-8.106 4.471 0 8.106 3.637 8.106 8.106 0 4.47-3.635 8.102-8.106 8.102zM16.711 14.505c-.258-.129-1.521-.75-1.758-.836s-.41-.129-.582.129-.668.836-.819 1.011-.301.194-.559.065-1.09-.402-2.076-1.279c-.767-.684-1.284-1.53-1.434-1.789s-.016-.399.112-.527c.116-.115.258-.301.387-.451.129-.15.172-.258.258-.43s.043-.323-.021-.452c-.065-.129-.582-1.4-.798-1.92s-.421-.43-.582-.43-.323-.016-.516-.016-.516.065-.785.344-.1.355.021.516c.121.161.258.334.387.527s.129.28.194.43.043.258-.021.43c-.065.172-1.29 5.591-1.29 5.591.065-.129.344.602.818 1.161s1.075 1.011 2.581 1.634c.258.108.516.194.774.28 2.065.667 2.387.645 2.624.516.237-.129.753-.452.861-.882s.108-.796.065-.882c-.043-.086-.151-.129-.409-.258z" />
        </svg>
    </a>
    {% include "components/error_modal.html" %}
</body>

</html>