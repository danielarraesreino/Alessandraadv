{% load static %}
<!DOCTYPE html>
<html lang="pt-br">

<head>
    {% include "components/head.html" %}
</head>

<body hx-headers='{"X-CSRFToken": "{{ csrf_token }}"}'>
    {% include "components/header.html" %}

    <main>
        <section class="section section-white"
            style="padding-top: 8rem; padding-bottom: 6rem; width: 100%; display: flex; justify-content: center;">
            <div class="container"
                style="max-width: 800px; width: 100%; margin: 0 auto; padding-left: 20px; padding-right: 20px;">
                <nav style="margin-bottom: 2rem;">
                    <a href="{% url 'in_brief:index' %}"
                        style="text-decoration: none; color: var(--color-gray); font-size: 0.9rem; display: flex; align-items: center; gap: 0.5rem; transition: color 0.3s;"
                        onmouseover="this.style.color='var(--color-salmon)'"
                        onmouseout="this.style.color='var(--color-gray)'">
                        &larr; Voltar para In Brief
                    </a>
                </nav>

                <span
                    style="color: var(--color-salmon); font-weight: 600; text-transform: uppercase; letter-spacing: 2px; font-size: 0.85rem;">
                    {{ article.categories.first.name|default:"Artigo" }}
                </span>

                <h1
                    style="font-size: 3.5rem; margin: 1rem 0 2rem; font-family: 'Playfair Display', serif; line-height: 1.2;">
                    {{ article.title }}</h1>

                <div
                    style="display: flex; align-items: center; gap: 1.5rem; margin-bottom: 3rem; color: var(--color-gray-dark); font-size: 0.95rem;">
                    <div style="display: flex; align-items: center; gap: 0.5rem;">
                        <span
                            style="width: 30px; height: 30px; background: var(--color-creme); border-radius: 50%; display: flex; align-items: center; justify-content: center; color: var(--color-salmon); font-weight: bold; font-size: 0.7rem; text-transform: uppercase;">
                            {% if article.author.username == 'suporte' %}IT{% else %}AD{% endif %}
                        </span>
                        <span>{{ article.author.get_full_name|default:article.author.username }}</span>
                    </div>
                    <div style="width: 1px; height: 15px; background: var(--color-gray-light);"></div>
                    <span>{{ article.published_at|date:"d \d\e F \d\e Y" }}</span>
                </div>

                {% if article.image %}
                <div
                    style="margin-bottom: 4rem; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.1);">
                    <img src="{{ article.image.url }}" alt="{{ article.title }}"
                        style="width: 100%; height: auto; display: block;">
                </div>
                {% endif %}

                <div class="article-content"
                    style="font-size: 1.15rem; line-height: 1.8; color: var(--color-black); font-family: 'Inter', sans-serif;">
                    {% if article.content %}
                    <div class="rich-text-content">
                        {{ article.content|safe }}
                    </div>
                    {% else %}
                    <p><em>Conteúdo completo do artigo será disponibilizado em breve.</em></p>
                    {% endif %}
                </div>

                <!-- Social Sharing -->
                <div style="margin-top: 5rem; border-top: 1px solid var(--border-soft); padding-top: 3rem;">
                    <h4
                        style="font-size: 1rem; color: var(--color-black); margin-bottom: 1.5rem; text-transform: uppercase; letter-spacing: 1px; font-weight: 700;">
                        Compartilhar</h4>
                    <div style="display: flex; gap: 1rem;">
                        <a href="https://wa.me/?text={{ article.title|urlencode }}%20{{ request.build_absolute_uri|urlencode }}"
                            target="_blank" title="Compartilhar no WhatsApp">
                            WhatsApp
                        </a>
                    </div>
                </div>

                <div style="margin-top: 4rem; text-align: center;">
                    <a href="/"
                        style="text-decoration: none; color: var(--color-black); font-weight: 600; border-bottom: 2px solid var(--color-salmon); padding-bottom: 5px;">
                        Retornar ao Início
                    </a>
                </div>
            </div>
        </section>
    </main>

    {% include "components/footer.html" %}

    <a href="https://wa.me/5519988014465" class="whatsapp-float" target="_blank" aria-label="WhatsApp">
        <svg width="30" height="30" viewBox="0 0 24 24" fill="white">
            <path
                d="M12.031 2c-5.511 0-9.993 4.481-9.993 9.993 0 1.763.461 3.475 1.332 4.978L2 22l5.148-1.351c1.455.794 3.09 1.211 4.757 1.211 5.511 0 9.993-4.482 9.993-9.993 0-5.512-4.482-9.993-9.993-9.993zM12.031 20.125c-1.552 0-3.041-.399-4.343-1.156l-.31-.184-3.228.847.861-3.14-.202-.321c-.822-1.31-1.256-2.83-1.256-4.388 0-4.469 3.636-8.106 8.106-8.106 4.471 0 8.106 3.637 8.106 8.106 0 4.47-3.635 8.102-8.106 8.102zM16.711 14.505c-.258-.129-1.521-.75-1.758-.836s-.41-.129-.582.129-.668.836-.819 1.011-.301.194-.559.065-1.09-.402-2.076-1.279c-.767-.684-1.284-1.53-1.434-1.789s-.016-.399.112-.527c.116-.115.258-.301.387-.451.129-.15.172-.258.258-.43s.043-.323-.021-.452c-.065-.129-.582-1.4-.798-1.92s-.421-.43-.582-.43-.323-.016-.516-.016-.516.065-.785.344-.1.355.021.516c.121.161.258.334.387.527s.129.28.194.43.043.258-.021.43c-.065.172-1.29 5.591-1.29 5.591.065-.129.344.602.818 1.161s1.075 1.011 2.581 1.634c.258.108.516.194.774.28 2.065.667 2.387.645 2.624.516.237-.129.753-.452.861-.882s.108-.796.065-.882c-.043-.086-.151-.129-.409-.258z" />
        </svg>
    </a>

    {% include "components/scripts.html" %}
</body>

</html>